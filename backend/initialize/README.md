# 初始化脚本目录

此目录包含系统初始化脚本，用于初始化数据库中的基础数据。

## 当前可用的初始化脚本

### initialize_material_code_levels.py - 器材编码分类层级初始化

此脚本用于初始化器材编码分类层级数据，包含以下功能：

1. **删除现有数据**：清空器材编码分类层级表中的所有数据
2. **添加预设数据**：按照指定的层级结构添加器材编码分类层级
3. **验证结果**：显示初始化后的层级概览

#### 使用方法

```bash
# 在项目根目录下运行
cd initialize
python initialize_material_code_levels.py
```

#### 初始化数据内容

脚本将创建以下器材编码分类层级：

| 层级编码 | 层级名称 | 专业代码 | 描述 |
|---------|---------|---------|------|
| 1 | 船机电 | JD | 船机电专业 |
| 1-0 | 默认 | 00 | 无法分类的 |
| 1-1 | 动力装置 | DL | |
| 1-2 | 辅助装置 | FZ | |
| 1-3 | 电气设备 | DQ | |
| 2 | 航海 | HH | |
| 2-0 | 默认 | 00 | 无法分类的 |
| 3 | 通信 | TX | |
| 3-0 | 默认 | 00 | 无法分类的 |
| 4 | 武备 | WB | |
| 4-0 | 默认 | 00 | 无法分类的 |
| 5 | 航空 | HK | |
| 5-0 | 默认 | 00 | 无法分类的 |
| 6 | 舰务 | JW | |
| 6-0 | 默认 | 00 | 无法分类的 |
| 6-1 | 化学材料 | TL | 油漆、稀释剂、喷漆 |
| 6-2 | 除涂机具 | CT | 除锈机具及配件、喷涂机及配件、漆刷 |
| 6-3 | 清洁用品 | QJ | 擦铜膏、除锈剂、擦机布、抹布、棉纱、拖把 |
| 6-4 | 绳网碰垫 | SW | 缆绳、锦纶绳、碰垫 |
| 6-5 | 消防救生 | XF | 灭火器、水龙带、救生圈、救生衣、自亮浮灯、防火服 |
| 6-6 | 旗帜信号 | QZ | 国旗、信号旗、形体信号 |
| 7 | 其他 | QT | 无法分类的 |
| 7-0 | 默认 | 00 | 无法分类的 |
| 7-1 | 办公用品 | BG | 笔、本 |
| 7-2 | 印刷制品 | YS | 登记本、账页 |
| 7-3 | 劳保用品 | LB | 手套、胶鞋 |
| 7-4 | 医疗用品 | YL | 口罩、防护服、喷雾机 |

#### 运行结果

脚本运行后将显示：
- 清空表的确认信息
- 每个层级的创建状态
- 总计创建的层级数量
- 当前表中的层级数量
- 完整的层级概览

## 注意事项

1. **数据库连接**：确保数据库服务正在运行
2. **Python环境**：确保在正确的虚拟环境中运行
3. **数据备份**：运行前建议备份数据库，因为脚本会删除现有数据
4. **权限**：确保数据库用户有足够的权限执行DDL和DML操作

## 扩展说明

如需添加新的初始化脚本，请遵循以下规范：
1. 脚本文件命名：`[功能名称]_init.py`
2. 导入路径处理：使用相对路径导入项目模块
3. 错误处理：包含适当的异常处理
4. 日志输出：提供清晰的执行状态信息