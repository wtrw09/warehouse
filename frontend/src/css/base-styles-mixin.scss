/* 表格排序箭头样式混入 - 现代Sass版本 */

// 使用现代Sass语法导入颜色变量
@use './color-variables.scss' as colors;

@mixin table-sort-arrows {
  /* 基础排序箭头样式 */
  :deep(.base-table .el-table th .caret-wrapper .sort-caret) {
    border: 4px solid transparent;
    position: absolute;
    transition: all 0.3s ease;
  }

  /* 升序箭头 */
  :deep(.base-table .el-table th .caret-wrapper .sort-caret.ascending) {
    border-bottom-color: colors.$base-color-text-placeholder;
    top: 5px;
  }

  /* 降序箭头 */
  :deep(.base-table .el-table th .caret-wrapper .sort-caret.descending) {
    border-top-color: colors.$base-color-text-placeholder;
    bottom: 5px;
  }

  /* 激活状态的排序箭头 */
  :deep(.base-table .el-table th .caret-wrapper .sort-caret.ascending.is-active) {
    border-bottom-color: colors.$base-color-primary;
  }

  :deep(.base-table .el-table th .caret-wrapper .sort-caret.descending.is-active) {
    border-top-color: colors.$base-color-primary;
  }

  /* 悬停效果的排序箭头 */
  :deep(.base-table .el-table th .caret-wrapper .sort-caret.ascending:hover) {
    border-bottom-color: colors.$base-color-primary-light !important;
    transform: scale(1.1);
  }

  :deep(.base-table .el-table th .caret-wrapper .sort-caret.descending:hover) {
    border-top-color: colors.$base-color-primary-light !important;
    transform: scale(1.1);
  }

  /* 兼容Element Plus默认表格类名 */
  :deep(.el-table th .caret-wrapper .sort-caret.ascending:hover) {
    border-bottom-color: colors.$base-color-primary-light !important;
  }

  :deep(.el-table th .caret-wrapper .sort-caret.descending:hover) {
    border-top-color: colors.$base-color-primary-light !important;
  }

  /* ==========================================================================
     固定列和滑动列的视觉区分
     ========================================================================== */

  /* 固定列（左侧固定列）的排序箭头样式 */
  :deep(.base-table .el-table__fixed .el-table th .caret-wrapper .sort-caret.ascending) {
    border-bottom-color: colors.$base-color-info;
  }

  :deep(.base-table .el-table__fixed .el-table th .caret-wrapper .sort-caret.descending) {
    border-top-color: colors.$base-color-info;
  }

  /* 固定列激活状态的排序箭头 */
  :deep(.base-table .el-table__fixed .el-table th .caret-wrapper .sort-caret.ascending.is-active) {
    border-bottom-color: colors.$base-color-warning;
  }

  :deep(.base-table .el-table__fixed .el-table th .caret-wrapper .sort-caret.descending.is-active) {
    border-top-color: colors.$base-color-warning;
  }

  /* 固定列悬停效果的排序箭头 */
  :deep(.base-table .el-table__fixed .el-table th .caret-wrapper .sort-caret.ascending:hover) {
    border-bottom-color: colors.$base-color-warning !important;
    transform: scale(1.1);
  }

  :deep(.base-table .el-table__fixed .el-table th .caret-wrapper .sort-caret.descending:hover) {
    border-top-color: colors.$base-color-warning !important;
    transform: scale(1.1);
  }

  /* 右侧固定列的排序箭头样式 */
  :deep(.base-table .el-table__fixed-right .el-table th .caret-wrapper .sort-caret.ascending) {
    border-bottom-color: colors.$base-color-info;
  }

  :deep(.base-table .el-table__fixed-right .el-table th .caret-wrapper .sort-caret.descending) {
    border-top-color: colors.$base-color-info;
  }

  /* 右侧固定列激活状态的排序箭头 */
  :deep(.base-table .el-table__fixed-right .el-table th .caret-wrapper .sort-caret.ascending.is-active) {
    border-bottom-color: colors.$base-color-warning;
  }

  :deep(.base-table .el-table__fixed-right .el-table th .caret-wrapper .sort-caret.descending.is-active) {
    border-top-color: colors.$base-color-warning;
  }

  /* 右侧固定列悬停效果的排序箭头 */
  :deep(.base-table .el-table__fixed-right .el-table th .caret-wrapper .sort-caret.ascending:hover) {
    border-bottom-color: colors.$base-color-warning !important;
    transform: scale(1.1);
  }

  :deep(.base-table .el-table__fixed-right .el-table th .caret-wrapper .sort-caret.descending:hover) {
    border-top-color: colors.$base-color-warning !important;
    transform: scale(1.1);
  }

  /* 滑动列（非固定列）的排序箭头样式 - 保持原有样式 */
  :deep(.base-table .el-table__body-wrapper .el-table th .caret-wrapper .sort-caret.ascending) {
    border-bottom-color: colors.$base-color-text-placeholder;
  }

  :deep(.base-table .el-table__body-wrapper .el-table th .caret-wrapper .sort-caret.descending) {
    border-top-color: colors.$base-color-text-placeholder;
  }

  /* 滑动列激活状态的排序箭头 */
  :deep(.base-table .el-table__body-wrapper .el-table th .caret-wrapper .sort-caret.ascending.is-active) {
    border-bottom-color: colors.$base-color-primary;
  }

  :deep(.base-table .el-table__body-wrapper .el-table th .caret-wrapper .sort-caret.descending.is-active) {
    border-top-color: colors.$base-color-primary;
  }

  /* 滑动列悬停效果的排序箭头 */
  :deep(.base-table .el-table__body-wrapper .el-table th .caret-wrapper .sort-caret.ascending:hover) {
    border-bottom-color: colors.$base-color-primary-light !important;
    transform: scale(1.1);
  }

  :deep(.base-table .el-table__body-wrapper .el-table th .caret-wrapper .sort-caret.descending:hover) {
    border-top-color: colors.$base-color-primary-light !important;
    transform: scale(1.1);
  }
}

/* 导出混入供其他文件使用 */
@mixin table-sort-arrows-export {
  @include table-sort-arrows;
}